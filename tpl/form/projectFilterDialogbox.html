	<style>
	#sortable1, #sortable2, #sortable3 { list-style-type: none; margin: 0; padding: 0; margin-right: 10px; background: #eee; padding: 5px; width: 173px;}
	#sortable1 li, #sortable2 li, #sortable3 li { margin: 5px; padding: 5px; font-size: 1.2em; width: 150px; }
	</style>
   
<script type="text/javascript">
   jQuery(document).ready(function() {

      jQuery("#projectFilters").click(function(event) {
         event.preventDefault();
         jQuery("#set_projectfilter_dialog" ).dialog( "open" );
      });

         jQuery("#set_projectfilter_dialog" ).dialog({
            autoOpen: false,
            height: 'auto',
            width: 450,
            modal: true,
            buttons: {
               Ok: function() {
                  var filters = '';
                  jQuery('#sortable3').children().each(function() {
                     filters += jQuery(this).attr('id') + ',';
                  });
                  var form = jQuery("#projectForm");
                  form.find("input[name=selectedFilters]").val(filters);
                  jQuery(this).dialog( "close" );
                  form.submit();
               },
               Cancel: function() {
                  jQuery(this).dialog( "close" );
               }
            }
         });

   });

	$(function() {
		$( "ul.droptrue" ).sortable({
			connectWith: "ul"
		});

		$( "ul.dropfalse" ).sortable({
			connectWith: "ul",
			dropOnEmpty: false
		});

		$( "#sortable1, #sortable3" ).disableSelection();
	});

</script>

   <div id="set_projectfilter_dialog" title="{t}Task Filters{/t}" class="ui-helper-hidden">
      <p id="setfilter_desc">{t}Drag & drop the filters to apply{/t}</p>
      <br>
         <form id="formSetProjectFilters" name="formSetProjectFilters" method="post" action="{$page}" >
            <fieldset>

               <div style="float:left;">
                  <label for="sortable1"><b>{t}Available Filters{/t}</b></label>
                  <ul id="sortable1" class='droptrue'>
                  {foreach from=$availFilterList key=id item=fname}
                     <li class="ui-state-default" id="{$id}" >{$fname}</li>
                  {/foreach}
                  </ul>
               </div>

               <div style="float:left;">
                  <label for="sortable3"><b>{t}Applyed Filters{/t}</b></label>
                  <ul id="sortable3" class='droptrue'>
                  {foreach from=$selectedFilterList key=id item=fname}
                     <li class="ui-state-default" id="{$id}" >{$fname}</li>
                  {/foreach}
                  </ul>
               </div>

               <br/>

               <input type="hidden" name="userid" value="{$userid}" />
               <input type="hidden" name="projectid" value="{$projectid}" />
               <input type="hidden" name="action" value="setFiltersAction" />
            </fieldset>
         </form>
   </div>
